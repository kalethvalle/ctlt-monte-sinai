{% extends 'base.html' %}

{% block body %}

<div class="container">
    <h2> {{ zone.name }} </h2>
    <hr class="my-4">
    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="exampleDataList" class="form-label">Nombre del paciente</label>
            <input class="form-control" list="datalistOptions" name="usuario" id="exampleDataList"
                placeholder="Pepito Perez">
            <datalist id="datalistOptions">
                {% for patient in zone.patients.all %}
                <option value="{{patient.name}} {{ patient.last_name }}">
                    {% endfor %}
            </datalist>
        </div>

        {% for question in zone.questions.all %}
        <i>
            <h6> {{ question.question }} </h6>
        </i>
        {% for option in question.options.all %}
        <div class="form-check">
            <input class="form-check-input" type="radio" name="question_{{ question.id }}" id="{{ option.id }}"
                value="{{ option.id }}">
            <label class="form-check-label" for="{{ option.id }}">
                {{ option.value }}
            </label>
        </div>
        {% endfor %}
        <br />
        {% endfor %}
        <hr class="my-4">
        <button class="btn btn-outline-success">Guardar</button>
    </form>
</div>

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <strong class="me-auto">Notification</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            {{ success_message }}
        </div>
    </div>
</div>

{% if success_message %}
<script type="text/javascript">
    toggleToast()
    function toggleToast() {
        var toastLiveExample = document.getElementById('liveToast')
        var toast = new bootstrap.Toast(toastLiveExample)

        toast.show()
    }    

</script>
{% endif %}

{% endblock %}